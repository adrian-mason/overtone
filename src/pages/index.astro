---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout title="Overtone — Adrian's Digital Garden">
  {/* Hero Section */}
  <section class="relative flex min-h-screen flex-col items-center justify-center p-8">
    <div class="mx-auto w-full max-w-4xl space-y-12 text-center">
      {/* Avatar */}
      <div class="relative mx-auto h-48 w-48">
        {/* Hand-drawn decorative circle — slow rotation */}
        <svg class="absolute inset-0 h-full w-full animate-spin-slow" viewBox="0 0 100 100">
          <path d="M10,50 Q25,25 50,10 T90,50 T50,90 T10,50" fill="none" stroke="black" stroke-width="2" />
          <path d="M12,52 Q27,27 52,12 T92,52 T52,92 T12,52" fill="none" stroke="black" stroke-width="2" class="opacity-50" />
        </svg>
        <div class="absolute inset-4 overflow-hidden rounded-full border-2 border-black bg-gray-100">
          <img src="/photo.png" alt="Adrian" class="h-full w-full object-cover grayscale contrast-125" />
        </div>
        {/* Sparkle — top-right */}
        <div class="sparkle-hover absolute -right-12 -top-4 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-yellow-400 fill-yellow-100">
            <path d="M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z" />
            <path d="M20 2v4" /><path d="M22 4h-4" />
            <circle cx="4" cy="20" r="2" />
          </svg>
        </div>
      </div>

      {/* Title */}
      <h1 class="text-6xl font-bold tracking-tight text-black md:text-8xl">
        Hi, I'm Adrian.
      </h1>

      {/* Subtitle */}
      <div class="mx-auto max-w-2xl text-2xl leading-relaxed text-gray-700 md:text-4xl">
        I analyze systems, listen to centuries-old music, and dream about electric sheep. Welcome to my digital garden.
      </div>

      {/* Role Badges — paper effect with double borders */}
      <div class="flex flex-wrap justify-center gap-4">
        <div class="relative min-w-[150px]">
          <div class="absolute inset-0 rounded-lg border-2 border-black bg-white paper-rotate-1"></div>
          <div class="absolute inset-0 rounded-lg border-2 border-black paper-rotate-2"></div>
          <div class="relative z-10 flex h-full flex-col justify-center p-6">
            <div class="flex items-center justify-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2" /></svg>
              <span class="text-lg font-bold">Performance Engineer</span>
            </div>
          </div>
        </div>

        <div class="relative min-w-[150px]">
          <div class="absolute inset-0 rounded-lg border-2 border-black bg-white paper-rotate-2"></div>
          <div class="absolute inset-0 rounded-lg border-2 border-black paper-rotate-1"></div>
          <div class="relative z-10 flex h-full flex-col justify-center p-6">
            <div class="flex items-center justify-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5l12-2v13" /><circle cx="6" cy="18" r="3" /><circle cx="18" cy="16" r="3" /></svg>
              <span class="text-lg font-bold">Classical Lover</span>
            </div>
          </div>
        </div>

        <div class="relative min-w-[150px]">
          <div class="absolute inset-0 rounded-lg border-2 border-black bg-white paper-rotate-1"></div>
          <div class="absolute inset-0 rounded-lg border-2 border-black paper-rotate-2"></div>
          <div class="relative z-10 flex h-full flex-col justify-center p-6">
            <div class="flex items-center justify-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V4H8" /><rect width="16" height="12" x="4" y="8" rx="2" /><path d="M2 14h2" /><path d="M20 14h2" /><path d="M15 13v2" /><path d="M9 13v2" /></svg>
              <span class="text-lg font-bold">AI Enthusiast</span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>

  {/* Scroll indicator — sits at the boundary between hero and paths */}
  <div class="relative z-10 -my-4 flex justify-center">
    <a href="#paths" class="opacity-50 transition-opacity hover:opacity-100">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="animate-bounce"><path d="M12 5v14" /><path d="m19 12-7 7-7-7" /></svg>
    </a>
  </div>

  {/* Pick a Path Section */}
  <section id="paths" class="relative flex min-h-screen flex-col items-center justify-center p-8">
    <div class="mx-auto w-full max-w-[1600px] space-y-12 text-center">
      <div>
        <h2 class="relative mb-4 inline-block text-5xl font-bold md:text-7xl">
          Pick a Path
          {/* Wavy dashed underline — slow drift */}
          <svg class="absolute -bottom-4 left-0 h-6 w-full text-black" viewBox="0 0 200 20" preserveAspectRatio="none">
            <path d="M5,10 Q50,15 100,5 T195,10" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="4 2" class="wave-drift" />
          </svg>
        </h2>
        <div class="mt-4 text-xl text-gray-600 md:text-2xl">
          Where would you like to start?
        </div>
      </div>

      <div class="grid grid-cols-1 gap-8 px-4 md:grid-cols-3 xl:gap-12">
        {/* Performance Card */}
        <a href="/performance" class="group relative">
          <div class="neo-card card-tilt-1 relative flex flex-col items-center space-y-6 p-8 text-center">
            <div data-egg="performance" class="rounded-full border-2 border-black bg-blue-100 p-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20v2" /><path d="M12 2v2" /><path d="M17 20v2" /><path d="M17 2v2" /><path d="M2 12h2" /><path d="M2 17h2" /><path d="M2 7h2" /><path d="M20 12h2" /><path d="M20 17h2" /><path d="M20 7h2" /><path d="M7 20v2" /><path d="M7 2v2" /><rect x="4" y="4" width="16" height="16" rx="2" /><rect x="8" y="8" width="8" height="8" rx="1" /></svg>
            </div>
            <h3 class="text-3xl font-bold">Performance Analysis</h3>
            <div class="text-xl leading-snug text-gray-600">
              Deep dives into system optimization, flame graphs, and latency hunting.
            </div>
            <div class="inline-flex items-center gap-2 border-b-2 border-black/20 pb-1 text-lg font-bold transition-colors group-hover:border-black">
              <span>Explore</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></svg>
            </div>
          </div>
        </a>

        {/* Classical Card */}
        <a href="/classical" class="group relative">
          <div class="neo-card card-tilt-2 relative flex flex-col items-center space-y-6 p-8 text-center">
            <div data-egg="classical" class="rounded-full border-2 border-black bg-yellow-100 p-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10" /><circle cx="12" cy="12" r="2" /></svg>
            </div>
            <h3 class="text-3xl font-bold">Classical Records</h3>
            <div class="text-xl leading-snug text-gray-600">
              Reviews of timeless recordings. From Bach to Mahler.
            </div>
            <div class="inline-flex items-center gap-2 border-b-2 border-black/20 pb-1 text-lg font-bold transition-colors group-hover:border-black">
              <span>Explore</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></svg>
            </div>
          </div>
        </a>

        {/* AI Card */}
        <a href="/ai" class="group relative">
          <div class="neo-card card-tilt-3 relative flex flex-col items-center space-y-6 p-8 text-center">
            <div data-egg="ai" class="rounded-full border-2 border-black bg-red-100 p-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z" /><path d="M9 13a4.5 4.5 0 0 0 3-4" /><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5" /><path d="M3.477 10.896a4 4 0 0 1 .585-.396" /><path d="M6 18a4 4 0 0 1-1.967-.516" /><path d="M12 13h4" /><path d="M12 18h6a2 2 0 0 1 2 2v1" /><path d="M12 8h8" /><path d="M16 8V5a2 2 0 0 1 2-2" /><circle cx="16" cy="13" r=".5" /><circle cx="18" cy="3" r=".5" /><circle cx="20" cy="21" r=".5" /><circle cx="20" cy="8" r=".5" /></svg>
            </div>
            <h3 class="text-3xl font-bold">Artificial Intelligence</h3>
            <div class="text-xl leading-snug text-gray-600">
              Exploring the frontier of LLMs, agents, and generative art.
            </div>
            <div class="inline-flex items-center gap-2 border-b-2 border-black/20 pb-1 text-lg font-bold transition-colors group-hover:border-black">
              <span>Explore</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></svg>
            </div>
          </div>
        </a>
      </div>

      {/* Hidden Life Card — revealed by Easter egg */}
      <div id="life-card" class="hidden px-4">
        <a href="/life" class="group relative mx-auto block max-w-xl">
          <div class="neo-card relative flex flex-col items-center space-y-6 p-8 text-center">
            <div class="rounded-full border-2 border-black p-6" style="background: conic-gradient(from 180deg, #DBEAFE, #F3E8FF, #FEF3C7, #DBEAFE);">
              <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ec4899" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M8 7h8" />
                <path d="M8 7L4 13h16L16 7" />
                <path d="M4 13l8 8 8-8" />
                <path d="M12 7v6" />
                <path d="M12 1v2.5" />
                <path d="M5 1.5l1.5 1.5" />
                <path d="M19 1.5l-1.5 1.5" />
              </svg>
            </div>
            <h3 class="text-3xl font-bold text-gray-900">Life</h3>
            <div class="text-xl leading-snug text-gray-600">
              The latency you can't optimize away. The recording that plays once. The training data you leave behind.
            </div>
            <div class="inline-flex items-center gap-2 border-b-2 border-black/20 pb-1 text-lg font-bold transition-colors group-hover:border-black">
              <span>Reflect</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></svg>
            </div>
          </div>
        </a>
      </div>
    </div>
  </section>

  {/* Easter Egg Script */}
  <script>
    const SEQUENCE = ["classical", "performance", "ai"];
    const TIMEOUT_MS = 5000;
    const SESSION_KEY = "life-unlocked";

    let progress: number = 0;
    let timer: ReturnType<typeof setTimeout> | null = null;

    function resetSequence() {
      progress = 0;
      if (timer) {
        clearTimeout(timer);
        timer = null;
      }
    }

    function revealCard(animate: boolean) {
      const card = document.getElementById("life-card");
      if (!card) return;

      card.classList.remove("hidden");

      if (animate) {
        card.style.opacity = "0";
        card.style.transform = "translateY(2rem)";
        card.style.transition = "opacity 600ms ease-out, transform 600ms ease-out";
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            card.style.opacity = "1";
            card.style.transform = "translateY(0)";
          });
        });
      }

      sessionStorage.setItem(SESSION_KEY, "1");
    }

    function pulseIcon(el: HTMLElement) {
      el.style.transition = "transform 200ms ease-out";
      el.style.transform = "scale(1.15)";
      setTimeout(() => {
        el.style.transform = "scale(1)";
      }, 200);
    }

    function hideCard() {
      const card = document.getElementById("life-card");
      if (!card || card.classList.contains("hidden")) return;

      card.style.transition = "opacity 400ms ease-in, transform 400ms ease-in";
      card.style.opacity = "0";
      card.style.transform = "translateY(2rem)";

      setTimeout(() => {
        card.classList.add("hidden");
        card.style.removeProperty("opacity");
        card.style.removeProperty("transform");
        card.style.removeProperty("transition");
      }, 400);

      sessionStorage.removeItem(SESSION_KEY);
    }

    function isCardVisible(): boolean {
      const card = document.getElementById("life-card");
      return !!card && !card.classList.contains("hidden");
    }

    // Check sessionStorage on load
    if (sessionStorage.getItem(SESSION_KEY)) {
      revealCard(false);
    }

    // Listen for clicks on egg icons
    document.querySelectorAll<HTMLElement>("[data-egg]").forEach((el) => {
      el.addEventListener("click", (e) => {
        const clicked = el.dataset.egg;
        const expected = SEQUENCE[progress];

        if (clicked === expected) {
          e.stopPropagation();
          e.preventDefault();

          pulseIcon(el);
          progress++;

          if (timer) clearTimeout(timer);

          if (progress >= SEQUENCE.length) {
            resetSequence();
            if (isCardVisible()) {
              hideCard();
            } else {
              revealCard(true);
            }
          } else {
            timer = setTimeout(resetSequence, TIMEOUT_MS);
          }
        } else {
          resetSequence();
          // Wrong click — let normal navigation proceed
        }
      });
    });
  </script>

  {/* Let's Talk Section */}
  <section id="contact" class="relative flex min-h-screen flex-col items-center justify-center p-8">
    <div class="mx-auto w-full max-w-2xl space-y-12 text-center">
      <div class="space-y-4">
        <h2 class="text-6xl font-bold md:text-8xl">
          Let's Talk
        </h2>
        <p class="text-2xl text-gray-600">
          Always happy to chat about BPF or Schubert's 9th Symphony.
        </p>
      </div>

      <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
        <a href="mailto:adrian.b.mason@gmail.com" target="_blank" rel="noopener noreferrer" class="group relative block">
          <div class="flex items-center justify-center gap-4 rounded-lg border-2 border-black bg-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all group-hover:translate-x-[2px] group-hover:translate-y-[2px] group-hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7" /><rect x="2" y="4" width="20" height="16" rx="2" /></svg>
            <span class="text-xl font-bold">Email Me</span>
          </div>
        </a>

        <a href="https://github.com/adrian-mason" target="_blank" rel="noopener noreferrer" class="group relative block">
          <div class="flex items-center justify-center gap-4 rounded-lg border-2 border-black bg-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all group-hover:translate-x-[2px] group-hover:translate-y-[2px] group-hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" /><path d="M9 18c-4.51 2-5-2-7-2" /></svg>
            <span class="text-xl font-bold">GitHub</span>
          </div>
        </a>

        <a href="https://x.com/adrianbmason" target="_blank" rel="noopener noreferrer" class="group relative block">
          <div class="flex items-center justify-center gap-4 rounded-lg border-2 border-black bg-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all group-hover:translate-x-[2px] group-hover:translate-y-[2px] group-hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z" /></svg>
            <span class="text-xl font-bold">Twitter</span>
          </div>
        </a>

        <a href="https://www.instagram.com/adrian.bmason/" target="_blank" rel="noopener noreferrer" class="group relative block">
          <div class="flex items-center justify-center gap-4 rounded-lg border-2 border-black bg-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] transition-all group-hover:translate-x-[2px] group-hover:translate-y-[2px] group-hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5" /><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" /><line x1="17.5" y1="6.5" x2="17.51" y2="6.5" /></svg>
            <span class="text-xl font-bold">Instagram</span>
          </div>
        </a>
      </div>

      <p class="text-sm text-gray-400">
        Adrian Mason. Hand-crafted with code.
      </p>
    </div>
  </section>
</BaseLayout>
